import{d as v,f as p,$ as C,r as V,o as n,h as s,w as d,e as F,i as $,a0 as b,a1 as k,a as y,n as P,t as A,x as E,l as h,a2 as B,a3 as f,_ as g,c as I,F as M,k as w}from"./index-619e6e2b.js";import{u as D}from"./use-code-87436e77.js";const x=v({__name:"ExpressionInput",props:{modelValue:{}},emits:["update:modelValue"],setup(m,{emit:o}){const r=m,t=o,l=p({get:()=>r.modelValue,set:e=>t("update:modelValue",e)}),{showCodeEditorDialog:u}=C(),c=()=>{u({value:l.value,onSubmit:e=>{l.value=e}})};return(e,a)=>{const i=V("el-button");return n(),s(i,{onClick:c},{default:d(()=>[F("点击编辑代码")]),_:1})}}}),N=v({__name:"AutoFormItem",props:{column:{},model:{}},setup(m){const o=m,r=p(()=>o.model.getValue(o.column.name)),{result:t}=D(r),l=$(b(o.model.getValue(o.column.name))),u=p(()=>{if(l.value)return{component:x,componentProps:{}};const e=k[o.column.type](o.column.controlProps);return{component:e.component,componentProps:e.componentProps}}),c=p({get:()=>{const e=o.model.getValue(o.column.name);return b(e)?l.value?e:t.value:l.value?void 0:e},set:e=>{o.model.setValue(o.column.name,e)}});return(e,a)=>{const i=V("el-form-item");return n(),s(i,f({key:e.column.name,prop:e.column.name,label:e.column.label},e.column.elFormItemProps),{label:d(()=>[y("div",{class:P(e.$style.form_label)},[y("span",null,A(e.column.label),1),e.column.allowExpression?(n(),s(E,{key:0,title:"切换代码表达式",placement:"top-end",icon:"t-icon-fn-var",size:24,active:l.value,"onUpdate:active":a[0]||(a[0]=_=>l.value=_),"click-cancel":!0},null,8,["active"])):h("",!0)],2)]),default:d(()=>[(n(),s(B(u.value.component),f(u.value.componentProps,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=_=>c.value=_)}),null,16,["modelValue"]))]),_:1},16,["prop","label"])}}}),z="_form_label_p24v8_1",S={form_label:z},U={$style:S},L=g(N,[["__cssModules",U]]),O=v({__name:"AutoForm",props:{model:{default:()=>({getValue:()=>0,setValue:()=>0})},columns:{default:()=>[]},elFormProps:{}},setup(m){return(o,r)=>{const t=V("el-form");return n(),s(t,f({class:o.$style.form,model:o.model},o.elFormProps),{default:d(()=>[(n(!0),I(M,null,w(o.columns,l=>(n(),s(L,{key:l.name,column:l,model:o.model},null,8,["column","model"]))),128))]),_:1},16,["class","model"])}}}),T="_form_1xhlt_1",X="_form_label_1xhlt_10",j={form:T,form_label:X},q={$style:j},J=g(O,[["__cssModules",q]]);export{J as A};
